# JUnit Executor Service

–°–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Kotlin –∫–æ–¥–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ –∑–∞–ø—É—Å–∫–æ–º JUnit —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM (Yandex GPT).

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- **REST API**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç Kotlin –∫–æ–¥ –æ—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **LLM Integration**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JUnit —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ Yandex GPT
- **Test Execution**: –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ —Ç–µ—Å—Ç—ã (–≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ - mock —Ä–µ–∂–∏–º)
- **Security**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **Results**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

## API Endpoints

### POST /api/execute

**Request Body:**
```json
{
  "code": "class MathUtils {\n    fun sum(a: Int, b: Int): Int {\n        return a + b\n    }\n}"
}
```

**Success Response (200 OK):**
```json
{
  "success": true,
  "testResults": [
    {
      "testName": "Code Validation",
      "status": "PASSED",
      "assertions": ["Kotlin code syntax is valid", "Test code syntax is valid"]
    },
    {
      "testName": "LLM Integration",
      "status": "PASSED",
      "assertions": ["Successfully generated tests from LLM"]
    }
  ],
  "originalCode": "...",
  "generatedTestCode": "..."
}
```

**Error Response (4xx/5xx):**
```json
{
  "success": false,
  "error": "COMPILATION_ERROR",
  "details": "Detailed error message"
}
```

### GET /health

Health check endpoint.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `src/main/resources/application.conf`:

- **Server**: –ü–æ—Ä—Ç –∏ —Ö–æ—Å—Ç
- **Yandex GPT**: API –∫–ª—é—á, folder ID, URL
- **Execution**: –¢–∞–π–º–∞—É—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **Security**: –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

## –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
./gradlew run
```

### –í Docker (–∫–æ–≥–¥–∞ Docker –¥–æ—Å—Ç—É–ø–µ–Ω)

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
./build-and-run.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
./gradlew build
docker build -t junit-executor .
docker-compose up -d
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# Health check
curl http://localhost:8080/health

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
curl -X POST http://localhost:8080/api/execute \
  -H "Content-Type: application/json" \
  -d '{"code": "class Test { fun hello() = \"Hello World\" }"}'
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Main**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ HTTP —Å–µ—Ä–≤–µ—Ä
- **CodeExecutor**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞
- **YandexGPTService**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
- **SecurityService**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
- **TestExecutionService**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (mock —Ä–µ–∂–∏–º)

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:**
- REST API endpoint
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex GPT
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Kotlin —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
- Mock –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

üîÑ **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:**
- –†–µ–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Kotlin —Ç–µ—Å—Ç–æ–≤
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è Kotlin –∫–æ–¥–∞
- JUnit test runner

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–∞—Å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –∫–æ–¥–∞
- –¢–∞–π–º–∞—É—Ç—ã –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ò–∑–æ–ª—è—Ü–∏—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 19+ (JDK, –Ω–µ JRE)
- Docker (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏)
- Gradle 7.0+

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–†–µ–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kotlin compiler –∏ JUnit runner
2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Kotlin
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö—ç—à –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–µ—Å—Ç–æ–≤
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
